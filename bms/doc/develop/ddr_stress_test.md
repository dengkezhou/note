# ddr压力测试  

## 1. ddr压测

  压测原理为：使用c920_fpga_soc_defconfig并选择运行位置为ddr，bms运行在ddr 0x100000000 to 0x100000000 + 16MB + 128MB 范围内，压力测试程序会在bms运行范围后通过硬件自动在内存中写和读数据，软件上去判断比较标志，为1则读和写不匹配，压测失败。

  运行bms后，使用命令ddr -s可以进行长时间烤机测试。



## 2. 结合dma搬运进行ddr压测

  压测原理为：使用c920_fpga_soc_defconfig并选择运行位置为ddr或iram，bms运行在ddr 0x100000000 to 0x100000000 + 16MB + 128MB 范围内或iram，压力测试程序会在bms运行范围外通过硬件自动在内存中写和读数据，软件上去判断比较标志，为1则读和写不匹配，压测失败；同时会在ddr或iram的bms运行空间进行dma搬运，搬运失败则压测失败。

  目前在iram中运行bms进行dma搬运，同时压测ddr未出现问题。
